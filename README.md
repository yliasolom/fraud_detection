# HW-2: Настройка облачной инфраструктуры

Создадим инфраструктуру в Yandex.Cloud с помощью Terraform 

----

# 1. Создать новый backet в Yandex Cloud Object Storage с использованием terraform 

- скрипт для создания: 
`otus-practice-cloud-infra/infrastructure/main.tf`

1. IAM ресурсы
Сервисный аккаунт: Создается для доступа к ресурсам Yandex Cloud.
Роли: Назначаются роли сервисному аккаунту для управления доступом к различным ресурсам.
Статический ключ доступа: Генерируется для аутентификации сервисного аккаунта при доступе к объектному хранилищу.

2. Network ресурсы
Виртуальная сеть: Создается для организации сетевой инфраструктуры.
Подсеть: Определяется подсеть в рамках виртуальной сети с заданным диапазоном IP-адресов.
NAT-шлюз: Настраивается для обеспечения выхода в интернет.
Таблица маршрутов: Устанавливаются маршруты для управления трафиком в сети.
Группа безопасности: Определяются правила для входящего и исходящего трафика для обеспечения безопасности.

3. Storage ресурсы
Бакет: Создается бакет для хранения данных, с использованием статического ключа доступа для аутентификации.

4. Dataproc ресурсы
Кластер Dataproc: Создается кластер для обработки больших данных, с настройками для различных подкластеров (мастер, данные, вычисления).

5. Compute ресурсы
Диск: Создается виртуальный диск для хранения данных виртуальной машины.
Виртуальная машина: Настраивается виртуальная машина с необходимыми параметрами, включая доступ к сети и выполнение пользовательских скриптов.

---

# 2. Скопировать в него содержимое предоставленного Вам хранилища с
использованием инструмента s3cmd. 

Бакет: https://storage.yandexcloud.net/otus-bucket-b1gji7umt2bq8sadgnvl/

Посмотреть содержимое бакета: 
`s3cmd ls s3://otus-bucket-b1gji7umt2bq8sadgnvl --acl-public --config <путь к конфигурации .s3cfg>`

или просто по ссылке.

----- тут добавлю картину

# 3. Создать Spark-кластер в Data Proc:

Скрипт: `otus-practice-cloud-infra/infrastructure/create_dataporc.tf`
------ картника

# 4. Соединиться по SSH с мастер-узлом и выполнить на нём команду копирования содержимого хранилища в файловую систему HDFS с использованием инструмента hadoop distcp.


картинка
